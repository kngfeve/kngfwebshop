<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
	<div class="col-lg-12">
	  <div class="panel panel-default">
	    <!-- Default panel contents -->
	    <div class="panel-heading">Panel heading {{sortType}} {{sortReverse}}</div>
	    <div class="panel-body">
	    <table class="table table-bordered table-hover table-striped table-responsive">
	      <tr style="font-weight: bold">
	        <th style="width: 5%;" ng-click="sortType = 'id'; sortReverse = !sortReverse">
	          Id
	          <span ng-show="sortType == 'id' && !sortReverse" class="fa fa-caret-down"></span>
	          <span ng-show="sortType == 'id' && sortReverse" class="fa fa-caret-up"></span>
	        </th>
	        <th ng-click="sortType = 'name'; sortReverse = !sortReverse">
	          Name
	          <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
	          <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
	        </th>
	        <th ng-click="sortType = 'price'; sortReverse = !sortReverse">Price</th>
	        <th ng-click="sortType = 'stock'; sortReverse = !sortReverse">Stock</th>     
	        <th style="width: 15%;" ng-click="sortType = 'edit'; sortReverse = !sortReverse">Edit</th>
	      </tr>
	      <tr ng-repeat="p in products | orderBy:sortType:sortReverse">
	        <td><!-- ID -->
	          <span>{{ p.typeID}}</span>
	        </td>
	        <td><!-- Name -->
	          <span>{{p.typeName}}</span>	          
	        </td>
	        <td><!-- Price -->
	          <span ng-show="!editing">{{ p.price | number}} ISK</span>
	          <form id="myform" ng-show="editing">
						    <input id="something" type="text" ng-model="p.price">
						</form>	          
	        </td>
	        <td><!-- Stock -->
	          <span ng-show="!editing">{{ p.stock || 'empty' }}</span>
	          <form id="myform" ng-show="editing">
						    <input id="something" type="text" ng-model="p.stock">
						</form>	          
	        </td>          
	        <td style="white-space: nowrap">
	          <!-- form -->
	          <form ng-show="editing" class="form-buttons form-inline">
	            <button type="submit" class="btn btn-primary" ng-click="saveProduct(p, p._id); editing = !editing">
	            	<i class="fa fa-floppy-o"></i>
	            	save
            	</button>
	            <button type="button" ng-click="editing = !editing" class="btn btn-default">
	            	<i class="fa fa-times"></i>
	            	cancel
            	</button>
	          </form>
	          <div class="buttons" ng-show="!editing">
	            <button class="btn btn-primary" ng-click="editing = !editing">
	            	<i class="fa fa-pencil"></i>
	            	edit
	            </button>
	            <button class="btn btn-danger" ng-click="deleteProduct(p._id, $index)">
	            	<i class="fa fa-trash-o"></i></i>
	            	del
            	</button>
	          </div>  
	        </td>
	      </tr>
	    </table>
	    <div class="pull-right">
	      <button class="btn btn-default" ng-click="addProduct()">Add row</button>
	    </div>  
	    </div>
	  </div>
  </div>
</div>